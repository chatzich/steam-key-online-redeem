"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a;}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a;};(function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j=typeof require=="function"&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k;}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b);},f,f.exports,b,c,d,e);}return d[h].exports;}for(var g=typeof require=="function"&&require,f=0;f<e.length;f++){a(e[f]);}return a;})({1:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});var d=c.strings={title:"Steam Key Redeem",title_login:'Steam Login',server:'Server: ',disconnect_with_server:'Disconnected with server!',security_information:'Security Information',si1_1:'1. Please make sure link of this page is starts with ',si1_2:' (Avoiding account be stolen by others)',si2:['2. Your steam account information will be removed from server after ','you closed this page or disconnected with server.'],si3:'3. This is an open-source project. Deploying it on your own server is a best way to redeem.',login_failed:'Login Failed!',login_missing_username:'please input your steam username',login_missing_password:'please input your password',login_username:'Steam Username',login_password:'Password',login:'Login',logining:'Logining...',steam_guard:'Steam Guard',steam_guard_from:'You can in your steam mobile app or you email',btn_continue:'Continue',"export":'Export',cancel:'Cancel',export_file_name:'Export File Name',export_settings:'Export Settings',export_asf:'ASF Format',export_redeemed:'Redeemed',export_failed:'Failed',export_waiting:'Waiting for redeeming',export_results:'Export results',export_filter:'Export Filter',export_filter_redeemed:'Redeemed',export_filter_waiting:'Waiting',export_filter_already:'Failed: Already Purchased',export_filter_rate:'Failed: Rate Limited',export_filter_country:'Failed: Restricted Country',export_filter_required:'Failed: Does Not Own Required App',notification:'Desktop notification after finish, disconnected or rate limited ',notification_unsupported:'(Your browser does not support it!)',finish:'Redeem finished!',label_keys:'Keys:',redeem:'Redeem',redeem_result:'Redeem Result',redeem_limited:['Redeeming is pause: steam redeem rate limited. ','Redeeming will be continue an hour later.'],table_no:'No.',table_key:'Key',table_status:'Status',table_name:'Name',status_unsupported:['Your browser is unsupported. ','(recommended browser: Chrome, Firefox, Edge)','(and please keep your browser up to date)'],status_connecting:'Connecting to server... ',status_connected:'Connected, you can login now.',status_loggedin:'You have been logged in, you can redeem keys now. Username:',status_refresh:'Please refresh this page.',made_by:'Made by ',based_on_project:'based on project ',based_on_project_from:' from ',license_prefix:'Code released under the',icon_from:'Icons from ',framework_on:'Frontend page based on ',theme_from:'Theme from ',fonts_from_1:'Web fonts (',fonts_from_2:') are copied fro',donate_link:'Donate links: ',donation_description:['Your donation is power for open-source ','and free redeeming server.'],'result:RetryLater':' (Retry later)','result:InvalidPassword':'Invalid password','result:TwoFactorCodeMismatch':'Invalid two factor code','result:Limited account':'Limited account could not redeeming','result:AuthCodeError':'Auth code is error','result:Waiting':'Waiting...','result:Redeeming':'Redeeming...','result:OK':'Success','result:Fail':'Failed','result:NoDetail':' ','result:AlreadyPurchased':'Already Purchased','result:DuplicateActivationCode':'Duplicate Activation Code','result:BadActivationCode':'Bad Activation Code','result:RateLimited':'Rate Limited','result:DoesNotOwnRequiredApp':'Does Not Own Required App','result:RestrictedCountry':'Restricted Country'};},{}],2:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:true});c.EN=undefined;c.updateUI=e;c.get=f;c.result=g;c.getLanguageName=h;c.setLanguage=i;var j=a("./zh-CN"),k=d(j),l=a("./en"),m=d(l);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}var n='steam-key-redeem-language',o=c.EN='en',p={'zh-CN':k,en:m},q=p[o],r=localStorage.getItem(n)||o,s=p[r]||q;Object.keys(p).map(function(b){return p[b].strings;}).forEach(function(c){return Object.keys(c).filter(function(a){return Array.isArray(c[a]);}).forEach(function(a){return c[a]=c[a].join('');});});e();function e(){for(var i=document.querySelectorAll('[data-i18n]'),a=i.length,b=q.strings,c=s.strings,d=0;d<a;d++){var e=i[d],f=e.getAttribute('data-i18n'),g=c[f]||b[f];if(!g)continue;if(e.tagName=='INPUT'||e.tagName=='TEXTAREA')e.value=g;else e.innerHTML=g;}}function f(){var b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';return s.strings[b]||q.strings[b]||b;}function g(){var c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'',a="result:"+c;return s.strings[a]||q.strings[a]||c;}function h(){return r;}function i(){var b=arguments.length>0&&arguments[0]!==undefined?arguments[0]:o;if(!(b in p))return;r=b;s=p[b];e();localStorage.setItem(n,b);}},{"./en":1,"./zh-CN":3}],3:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});var d=c.strings={title:"Steam Key 批量激活工具",title_login:'登录 Steam',server:'服务器: ',disconnect_with_server:'与服务器断开连接! ',security_information:'安全提示',si1_1:'1. 请确保你的网址是 ',si1_2:' 开头的. (避免在不安全的网络环境下账号被盗)',si2:'2. 你的Steam账户信息将会在你 关掉本页面 或 与服务器断开连接 后 从服务器上清除',si3:'3. 这个项目是开源的. 搭建你属于你自己的激活服务器是最好和最安全的选择.',login_failed:'登录失败!',login_missing_username:'请输入你的Steam账号',login_missing_password:'请输入你的Steam密码',login_username:'用户名',login_password:'密码',login:'登录',logining:'登录中...',steam_guard:'Steam 令牌',steam_guard_from:'你可以从你的手机APP或电子邮箱中找到',btn_continue:'继续登录',"export":'导出',cancel:'取消',export_file_name:'导出文件名',export_settings:'导出设置',export_asf:'ASF格式',export_redeemed:'已兑换的',export_failed:'兑换失败的',export_waiting:'未兑换的',export_results:'导出结果',export_filter:'筛选',export_filter_redeemed:'已兑换的',export_filter_waiting:'排队中的',export_filter_already:'失败:已拥有的',export_filter_rate:'失败:兑换次数上限',export_filter_country:'失败:区域限制',export_filter_required:'失败:需要主游戏',notification:'桌面通知(兑换完成/断开连接/兑换超限时通知)',notification_unsupported:'(你的浏览器不支持!)',finish:'兑换完成!',label_keys:'激活码(支持很多很多个):',redeem:'激活',redeem_result:'激活结果',redeem_limited:['激活暂停中: Steam 限制了一个小时内最多只能激活 40 个游戏','激活任务将在一个小时后重新开始'],table_no:'No.',table_key:'Key',table_status:'状态',table_name:'信息',status_unsupported:['你的浏览器太老了,此工具无法支持','(推荐浏览器:Chrome, Firefox, Edge)','(请保持你的浏览器是最新的版本)'],status_connecting:'正在连接到服务器...',status_connected:'已连接,现在你可以登录你的Steam账号了.',status_loggedin:'已登录,输入Key点击"激活"吧, 用户名: ',status_refresh:'请刷新过当前页面.',made_by:'本项目由我: ',based_on_project:'基于项目',based_on_project_from:' 开发, 原项目作者: ',license_prefix:'本项目开源协议:',icon_from:'图标来源 ',framework_on:'前端页面基于 ',theme_from:'主题来源 ',fonts_from_1:'使用了字体 (',fonts_from_2:') 来源于',donate_link:'捐赠链接: ',donation_description:['你的捐赠能撑起开源的美好明天, ','也能让免费的公用SteamKey激活服务器走的更远'],'result:RetryLater':' (稍后重试)','result:InvalidPassword':'无效的密码','result:TwoFactorCodeMismatch':'安全令错误','result:Limited account':'受限用户暂无法使用','result:AuthCodeError':'验证码有误','result:Waiting':'排队中...','result:Redeeming':'兑换中...','result:OK':'成功','result:Fail':'失败','result:NoDetail':' ','result:AlreadyPurchased':'已拥有','result:DuplicateActivationCode':'重复激活','result:BadActivationCode':'无效激活码','result:RateLimited':'次数上限','result:DoesNotOwnRequiredApp':'缺少主游戏','result:RestrictedCountry':'区域限制'};},{}],4:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.default=e;var k=a('./utils'),l=d(k);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}var m=10*1000,n=null,o={},p=function e(f){for(var a=arguments.length,b=Array(a>1?a-1:0),c=1;c<a;c++){b[c-1]=arguments[c];}return f in o&&o[f].apply(o,b);},q=void 0,r={on:f,login:g,auth:h,redeem:i};function e(){if(!('WebSocket'in window))throw new Error('Unsupported browser: WebSocket is required!');if(n)return r;var b=location.protocol=='https:'?'wss:':'ws:';n=new WebSocket(b+'//'+location.host+'/ws');n.onopen=function(){q=setInterval(j,m,{action:'ping'});};n.onmessage=function(d,a){var b=l.parseJSON(d.data,{});if(!b.action)return console.warn('Unknown ws message: ',d);console.log('Received ws message. action:',b.action);if(b.action=='connect')return p('connect',b);if(b.action=='logOn')return p('login',b.result=='success'?null:b.message,b.detail);if(b.action=='authCode')return p('auth');if(b.action=='redeem')return p('redeem',b.detail);if(b.action=='pong')return;};n.onclose=function(){clearInterval(q);p('disconnect');};return r;}function f(c,a){o[c]=a;return r;}function g(c,d){j({action:'logOn',username:c,password:d});return r;}function h(b){j({action:'authCode',authCode:b});return r;}function i(b){j({action:'redeem',keys:b});return r;}function j(c){try{n.send(JSON.stringify(c));}catch(a){console.error('ws send failed:',c,'error: ',a);}}},{"./utils":11}],5:[function(a,b,c){(function(d){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.init=f;var n=a('./api'),o=e(n),p=a('./export'),q=e(p),r=a('./utils'),s=b(r),t=a('./status'),u=b(t),v=a('./redeem'),w=b(v),x=a('../i18n/index'),y=b(x),z=a('./notification'),A=b(z);function b(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}function e(b){return b&&b.__esModule?b:{default:b};}var B='Sofia',C='[¡Hola!]',D='\n\tNE9QY-T9820-86MR8\t(43686) International Snooker\n\tMIDQ0-XI4FY-LRQIG\t(39925) Ionball 2 : Ionstorm\n\tT02D0-IWAJ6-TV8QB\t(44489) Manhunter\n\tDL06F-FWMV9-R6KLM\t(50205) Melissa K and the Heart of Gold\n\tFW9HF-BQMR3-CEP4F\t(151524) MontaSayer\n\t',E={"151524":"MontaSayer"},F=false,G={api:o.default,exporter:q.default,utils:s,status:u,redeem:w,i18n:y,notification:A,redeemDebugKeys:g,fakeRedeemOK:i,fakeRedeemFail:j,fakeRedeemRateLimited:k,fakeRedeemDoesNotOwnRequiredApp:l},H=void 0,I=void 0;function f(e){var a=e.onLogin,b=e.setUsername;H=a;I=b;d.startDebug=m;}function g(){w.add(s.extractKeysFromText(D));}function h(d,e){var f=w.getTasks().filter(function(b){return b.status=='Redeeming';})[0];if(!f)return console.warn('debugger: no redeeming task');return w.onRedeem({key:f.key,result:d,details:e,packages:E});}function i(){h('OK','NoDetail');}function j(b){h('Fail',b);}function k(){j('RateLimited');}function l(){j('DoesNotOwnRequiredApp');}function m(){if(!F){I(B);H(null,{steamID:C});w.bindAPI(function(b){return console.log('debugger received a redeeming request ('+b.length+')');});d.debug=G;F=true;}return G;}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});},{"../i18n/index":2,"./api":4,"./export":6,"./notification":8,"./redeem":9,"./status":10,"./utils":11}],6:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.default=f;var j=a('downloadjs'),k=e(j),l=a('../i18n/index'),m=d(l);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}function e(b){return b&&b.__esModule?b:{default:b};}var n={redeemed:function b(c){return c.status=='OK';},waiting:function b(c){return c.status=='Waiting'||c.status=='Redeeming';},already:function b(c){return c.status=='Fail'&&c.resultMsg=='AlreadyPurchased';},rate:function b(c){return c.status=='Fail'&&c.resultMsg=='RateLimited';},country:function b(c){return c.status=='Fail'&&c.resultMsg=='RestrictedCountry';},required:function b(c){return c.status=='Fail'&&c.resultMsg=='DoesNotOwnRequiredApp';}},o={waiting:true,already:true,rate:true,country:true,required:true},p='#modalExport',q='#btnExport',r='.export-filter',s='#txtFileName',t='#txtRedeemedCount',u='#txtFailedCount',v='#txtWaitingCount',w='#cbASF',x='ion-android-checkbox-outline',y='ion-android-checkbox-outline-blank',z='badge-primary',A='badge-light',B=false,C=[],D='';function f(c){C=c;var a=new Date();D='redeem-export-'+(a.getFullYear()+'-'+g(a.getMonth()+1)+'-'+g(a.getDate())+'-')+(g(a.getHours())+'-'+g(a.getMinutes())+'.txt');$(s).val(D);$(r).each(function(){var e=$(this),a=e.data('filter');if(!(a in n))return console.error('Unknown export filter:',a);var b=C.filter(n[a]).length,c=a in o&&b>0;e.find('i')[0].className=c?x:y;e.find('.badge').text(String(b))[0].className='badge float-right '+(c?z:A);});if(!B){$(q).on('click',i);$(r).click(function(){h($(this).find('i'),x,y);h($(this).find('.badge'),'badge-light','badge-primary');});B=true;}$(p).modal();}function g(b){return b<10?'0'+b:''+b;}function h(d,a,b){if(d.hasClass(a))d.removeClass(a).addClass(b);else d.removeClass(b).addClass(a);}function i(){var e=String($(s).val()).trim()||D,a=$(w).is(':checked'),b=[];$(r).find('.'+x).parent().each(function(){var c=$(this).data('filter');if(!(c in n))return console.error('Unknown export filter:',c);b=b.concat(C.filter(n[c]));});var c='';if(a)c='!redeem '+b.map(function(b){return b.key;}).join(',');else c=b.map(function(b){return[b.key,m.get(b.status),b.packages.map(function(b){return'('+b.subId+') '+b.name;}).join(',')].join('\t');}).join('\r\n');(0,k.default)(c,e,'text/plain');$(p).modal('hide');}},{"../i18n/index":2,"downloadjs":12}],7:[function(a,b,c){"use strict";var n=a("./api"),o=e(n),p=a("./export"),q=e(p),r=a("./utils"),s=d(r),t=a("./status"),u=d(t),v=a("./redeem"),w=d(v),x=a("../i18n/index"),y=d(x),z=a("./notification"),A=d(z),B=a("./debug"),C=d(B);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}function e(b){return b&&b.__esModule?b:{default:b};}var D='#modal2FA',E='#formLogin',F='#form2fa',G='#inputUser',H='#inputPasswd',I='#inputAuthCode',J='#inputKeys',K='#btnLogin',L='#btnLogining',M='#btnRedeem',N='#btnSwitchLanguage',O='#linkExport',P='#alertLoginFailed',Q='#txtLoginFailed',R='',S='';$(f);function f(){C.init({onLogin:h,setUsername:function b(c){return R=c;}});(0,o.default)().on('connect',u.connected).on('disconnect',function(){return u.broken(y.get('disconnect_with_server'));}).on('auth',function(){return $(D).modal({keyboard:false,backdrop:'static'});}).on('redeem',function(b){return w.onRedeem(b);}).on('login',h);w.bindStringProvider(y.result);g();u.connecting();A.init();$(E).submit(j);$(F).submit(i);$(M).click(function(){var b=s.extractKeysFromText(k(J));if(b.length<1)return;$(J).val('');w.add(b);});$(N).click(function(){var b=$(N);y.setLanguage(b.attr('data-lang')||y.EN);g();});$(O).click(function(){return(0,q.default)(w.getTasks());});$(D).on('shown.bs.modal',function(){return $(I).val('').focus();});}function g(){var c=$(N),a=y.getLanguageName();c.attr('data-lang',a==y.EN?"zh-CN":"en");c.text(a==y.EN?"中文":"English");}function h(d,a){$(L).hide();$(K).show();if(d){console.error('login failed:',d);var b=String(d);if(b.match(/password/i))return m(H,y.result(b));if(b.match(/account/i))return m(G,y.result(b));$(Q).text(y.result(b));$(P).show();return;}console.log('login success:',a);u.logined(R+" "+a.steamID);}function i(c){c.preventDefault();var a=k(I).trim().toUpperCase();if(a){(0,o.default)().auth(a);$(D).modal('hide');}}function j(b){b.preventDefault();$(P).hide();l(G);l(H);R=k(G).trim();S=k(H).trim();if(!R)return m(G,y.get('login_missing_username'));if(!S)return m(H,y.get('login_missing_password'));(0,o.default)().login(R,S);$(K).hide();$(L).show();}function k(b){return String($(b).val()||"");}function l(b){$(b).removeClass('is-invalid').siblings('.form-control-feedback').text('');}function m(c,a){$(c).addClass('is-invalid').focus().siblings('.form-control-feedback').text(a);}},{"../i18n/index":2,"./api":4,"./debug":5,"./export":6,"./notification":8,"./redeem":9,"./status":10,"./utils":11}],8:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.rateLimited=c.finish=c.disconnected=undefined;c.init=e;var i=a('../i18n/index'),j=d(i);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}var k='steam-key-redeem-notification',l='#cbNotification',m='#txtNotificationUnsupported',n='disabled',o=':checked',p=localStorage.getItem(k)=='true';if(Notification.permission!="granted")p=false;function e(){var b=$(l);console.log('notification enable:',p);if(typeof Notification=='undefined'){$(m).show();b.attr(n,n).addClass(n);return;}b[0].checked=p;b.change(function(){console.log('notification checkbox changed!');if(b.is(o))return f();g();});}function f(){Notification.requestPermission(function(b){console.log('notification permission:',b);if(b=='granted'){p=true;localStorage.setItem(k,'true');return;}g();});}function g(){p=false;localStorage.setItem(k,'false');$(l)[0].checked=false;}var q=c.disconnected=function a(){return h('disconnect_with_server');},r=c.finish=function a(){return h('finish');},s=c.rateLimited=function a(){return h('redeem_limited');};function h(b){if(p)new Notification(j.get('title'),{body:j.get(b)});}},{"../i18n/index":2}],9:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.getTasks=j;c.onRedeem=l;c.bindAPI=m;c.bindStringProvider=n;c.add=o;var p=a('./notification'),q=d(p);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}var r='#cardResult',s='#tbResult',t='#txtRedeemPause',u='#unfrozenTime',v='RateLimited',w='DoesNotOwnRequiredApp',x=9*1000,y=(60+10)*60*1000,z=300,A=[],B={},C=0,D=void 0,E=0,F=function b(c){return void c;},G=function b(c){return c;};function e(b){console.log('redeeming task #'+b.no+' ('+(b.redeemTimes||'first time')+')');F([b.key]);b.status='Redeeming';b.redeemTimes++;C=Date.now();i();}function k(){var l=Date.now(),a=true;if(l<E){var b=Math.floor((E-l)/1000);$(u).text(f(Math.floor(b/60))+':'+f(b%60));D=setTimeout(k,z);return;}if(l>C+x&&A.filter(function(b){return b.status=='Redeeming';}).length==0){$(t).hide();var h=null,i=true,m=false,d=undefined;try{for(var n=A[Symbol.iterator](),o,g;!(i=(o=n.next()).done);i=true){g=o.value;if(g.status=='Waiting'||g.resultMsg=='RateLimited'){e(g);a=false;break;}if(g.resultMsg==w&&g.redeemTimes==1)h=g;}}catch(b){m=true;d=b;}finally{try{if(!i&&n.return){n.return();}}finally{if(m){throw d;}}}if(a){if(h){e(h);}else{D=void 0;q.finish();console.log('redeem finish!');return;}}}D=setTimeout(k,z);}function f(b){return b<10?'0'+b:''+b;}function g(){if(typeof D=='undefined')D=setTimeout(k,z);}function h(){E=Date.now()+y;$(t).show();$(u).text('--:--');q.rateLimited();}var H=$('<a target="_blank"></a>');function i(){$(s).html(A.map(function(m){var a='',b='span';if(m.status=='OK'||m.status=='Fail'){b='b';a=m.status=='OK'?'text-primary':'text-danger';}var c='--';if(m.packages.length){c='';var d=true,n=false,f=undefined;try{for(var g=m.packages[Symbol.iterator](),h;!(d=(h=g.next()).done);d=true){var i=h.value,k=H.clone();k.attr('href','https://steamdb.info/sub/'+i.subId+'/');k.text('('+i.subId+') '+i.name);c+=k.prop('outerHTML')+'<br/>';}}catch(b){n=true;f=b;}finally{try{if(!d&&g.return){g.return();}}finally{if(n){throw f;}}}}var l='';if(m.resultMsg==w&&m.redeemTimes==1)l=G(m.resultMsg)+'<b>'+G('RetryLater')+'</b>';else if(m.status=='Redeeming')l=G(m.status);else l=' <'+b+'>'+G(m.status)+'</'+b+'> '+G(m.resultMsg);return'<tr>\n\t\t\t<td>'+m.no+'</td>\n\t\t\t<td><code>'+m.key+'</code></td>\n\t\t\t<td class="'+a+'"> '+l+' </td>\n\t\t\t<td>'+c+'</td>\n\t\t</tr>';}).join('\n'));}function j(){return A;}function l(c){A.filter(function(a){return a.key==c.key;}).forEach(function(a){a.status=c.result;a.resultMsg=c.details;a.packages=Object.keys(c.packages).map(function(a){return{subId:a,name:c.packages[a]};});});i();if(c.details==v)h();}function m(b){F=b;}function n(b){G=b;}function o(j){console.log('adding '+j.length+' keys.');var a=0,b=true,k=false,d=undefined;try{for(var e=j[Symbol.iterator](),f,l;!(b=(f=e.next()).done);b=true){l=f.value;if(l in B){console.log('key: (duplicated)',l);continue;}console.log('key:',l);a++;B[l]=true;A.push({no:A.length,key:l,status:'Waiting',resultMsg:'',packages:[],redeemTimes:0});}}catch(b){k=true;d=b;}finally{try{if(!b&&e.return){e.return();}}finally{if(k){throw d;}}}if(a){$(r).show();i();g();}}},{"./notification":8}],10:[function(a,b,c){'use strict';Object.defineProperty(c,"__esModule",{value:true});c.broken=c.logined=c.connected=c.connecting=undefined;var f=a('./notification'),g=d(f);function d(d){if(d&&d.__esModule){return d;}else{var a={};if(d!=null){for(var b in d){if(Object.prototype.hasOwnProperty.call(d,b))a[b]=d[b];}}a.default=d;return a;}}var h=c.connecting=function a(){return e('statusConnecting');},i=c.connected=function b(c){if(c){$('#serverName').text(c.server);$('#serverVersion').text('v'+c.version);}e('statusConnected');$('#cardLogin').show();},j=c.logined=function b(c){e('statusLogined');$('#txtUsername').text(c);$('#cardLogin').hide();$('#cardInput').show();},k=c.broken=function b(c){e('statusBroken');$('#txtBrokenReason').text(c);$('#cardLogin').hide();$('#cardInput').hide();g.disconnected();};function e(b){$('.card-status').hide().filter('#'+b).show();}},{"./notification":8}],11:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:true});c.extractKeysFromText=d;c.parseJSON=e;function d(e){e=e.trim().toUpperCase();var a=/([0-9,A-Z]{5}\-){2,4}[0-9,A-Z]{5}/g,b=[],c=null;while(!!(c=a.exec(e))){b.push(c[0]);}return b;}function e(c,a){try{return JSON.parse(c);}catch(b){return a;}}},{}],12:[function(a,b,c){(function(a,d){if(typeof define==='function'&&define.amd){define([],d);}else if((typeof c==="undefined"?"undefined":_typeof(c))==='object'){b.exports=d();}else{a.download=d();}})(this,function(){return function a(b,c,d){var g=window,h="application/octet-stream",j=d||h,k=b,l=!c&&!d&&k,m=document.createElement("a"),n=function toString(b){return String(b);},o=g.Blob||g.MozBlob||g.WebKitBlob||n,p=c||"download",q,r;o=o.call?o.bind(g):Blob;if(String(this)==="true"){k=[k,j];j=k[0];k=k[1];}if(l&&l.length<2048){p=l.split("/").pop().split("?")[0];m.href=l;if(m.href.indexOf(l)!==-1){var s=new XMLHttpRequest();s.open("GET",l,true);s.responseType='blob';s.onload=function(b){a(b.target.response,p,h);};setTimeout(function(){s.send();},0);return s;}}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(k)){if(k.length>1024*1024*1.999&&o!==n){k=e(k);j=k.type||h;}else{return navigator.msSaveBlob?navigator.msSaveBlob(e(k),p):f(k);}}else{if(/([\x80-\xff])/.test(k)){var t=0,i=new Uint8Array(k.length),u=i.length;for(t;t<u;++t){i[t]=k.charCodeAt(t);}k=new o([i],{type:j});}}q=k instanceof o?k:new o([k],{type:j});function e(a){var b=a.split(/[:;,]/),c=b[1],d=b[2]=="base64"?atob:decodeURIComponent,e=d(b.pop()),f=e.length,g=0,h=new Uint8Array(f);for(g;g<f;++g){h[g]=e.charCodeAt(g);}return new o([h],{type:c});}function f(a,b){if('download'in m){m.href=a;m.setAttribute("download",p);m.className="download-js-link";m.innerHTML="downloading...";m.style.display="none";document.body.appendChild(m);setTimeout(function(){m.click();document.body.removeChild(m);if(b===true){setTimeout(function(){g.URL.revokeObjectURL(m.href);},250);}},66);return true;}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){if(/^data:/.test(a))a="data:"+a.replace(/^data:([\w\/\-\+]+)/,h);if(!window.open(a)){if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")){location.href=a;}}return true;}var c=document.createElement("iframe");document.body.appendChild(c);if(!b&&/^data:/.test(a)){a="data:"+a.replace(/^data:([\w\/\-\+]+)/,h);}c.src=a;setTimeout(function(){document.body.removeChild(c);},333);}if(navigator.msSaveBlob){return navigator.msSaveBlob(q,p);}if(g.URL){f(g.URL.createObjectURL(q),true);}else{if(typeof q==="string"||q.constructor===n){try{return f("data:"+j+";base64,"+g.btoa(q));}catch(a){return f("data:"+j+","+encodeURIComponent(q));}}r=new FileReader();r.onload=function(a){f(this.result);};r.readAsDataURL(q);}return true;};});},{}]},{},[7]);